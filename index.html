<!DOCTYPE html>
<html>
<head>
    <title>Super Adventure Run</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>
        body { margin: 0; background: #5c94fc; overflow: hidden; font-family: 'Arial', sans-serif; touch-action: none; }
        #gui { position: absolute; top: 10px; left: 10px; color: white; font-size: 20px; font-weight: bold; text-shadow: 2px 2px #000; }
        #controls { position: absolute; bottom: 20px; width: 100%; display: flex; justify-content: space-around; pointer-events: none; }
        .btn { width: 70px; height: 70px; background: rgba(255,255,255,0.3); border-radius: 50%; pointer-events: auto; display: flex; justify-content: center; align-items: center; color: white; font-size: 30px; border: 2px solid white; }
    </style>
</head>
<body>
    <div id="gui">COINS: <span id="score">0</span></div>
    <div id="controls">
        <div class="btn" id="left">⬅️</div>
        <div class="btn" id="jump">⬆️</div>
        <div class="btn" id="right">➡️</div>
    </div>
    <canvas id="gameCanvas"></canvas>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        let score = 0;
        const gravity = 0.8;
        
        const player = {
            x: 50, y: canvas.height - 150,
            w: 40, h: 40,
            dy: 0, speed: 5,
            jumpForce: 15, grounded: false,
            color: '#ff4757'
        };

        const platforms = [
            {x: 0, y: canvas.height - 50, w: 2000, h: 50}, // Zameen
            {x: 300, y: canvas.height - 150, w: 100, h: 20},
            {x: 500, y: canvas.height - 250, w: 150, h: 20},
            {x: 750, y: canvas.height - 180, w: 100, h: 20}
        ];

        const coins = [
            {x: 330, y: canvas.height - 190, collected: false},
            {x: 550, y: canvas.height - 290, collected: false},
            {x: 800, y: canvas.height - 220, collected: false}
        ];

        let keys = { left: false, right: false };

        // Controls setup
        document.getElementById('left').ontouchstart = () => keys.left = true;
        document.getElementById('left').ontouchend = () => keys.left = false;
        document.getElementById('right').ontouchstart = () => keys.right = true;
        document.getElementById('right').ontouchend = () => keys.right = false;
        document.getElementById('jump').ontouchstart = () => { if(player.grounded) player.dy = -player.jumpForce; };

        function update() {
            // Movement
            if (keys.left) player.x -= player.speed;
            if (keys.right) player.x += player.speed;

            // Gravity
            player.dy += gravity;
            player.y += player.dy;
            player.grounded = false;

            // Platform Collision
            platforms.forEach(p => {
                if (player.x < p.x + p.w && player.x + player.w > p.x &&
                    player.y < p.y + p.h && player.y + player.h > p.y) {
                    if (player.dy > 0) {
                        player.dy = 0;
                        player.y = p.y - player.h;
                        player.grounded = true;
                    }
                }
            });

            // Coin Collection
            coins.forEach(c => {
                if (!c.collected && player.x < c.x + 20 && player.x + player.w > c.x &&
                    player.y < c.y + 20 && player.y + player.h > c.y) {
                    c.collected = true;
                    score++;
                    document.getElementById('score').innerText = score;
                }
            });

            // Camera follow (Simple)
            ctx.setTransform(1,0,0,1, -player.x + 50, 0);
        }

        function draw() {
            ctx.clearRect(player.x - 100, 0, canvas.width + 1000, canvas.height);

            // Zameen aur Platforms
            ctx.fillStyle = '#2ed573';
            platforms.forEach(p => ctx.fillRect(p.x, p.y, p.w, p.h));

            // Coins
            ctx.fillStyle = '#eccc68';
            coins.forEach(c => { if(!c.collected) ctx.beginPath(), ctx.arc(c.x, c.y, 10, 0, Math.PI*2), ctx.fill(); });

            // Player (Mario type character)
            ctx.fillStyle = player.color;
            ctx.fillRect(player.x, player.y, player.w, player.h);
        }

        function loop() {
            update();
            draw();
            requestAnimationFrame(loop);
        }

        loop();
    </script>
</body>
</html>
